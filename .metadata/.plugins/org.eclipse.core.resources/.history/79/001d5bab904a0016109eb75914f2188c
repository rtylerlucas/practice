package chapter.six;

public class SixDotOne {
	
	private SixDotOne(){}
	
	/*
	 * Iterate across the array. If number less than number pivot, leave it.
	 * Otherwise, swap
	 */
	public static int[] buildPartitions(int[] array, int i){
		if(array==null)
			return null;
		if(array.length<2){
			return array;
		}
		
		int pivot = array[i];
		int pIndex = array.length-1;
		swap(array, i, pIndex);
		
		/*
		 * Moving backwards, if pivot is less than
		 * number, swap. Otherwise, iterate.
		 */
		for(int j = array.length-2; j >= 0; j--){
			if(array[j] > pivot){
				if(pIndex == j+1){
					swap(array, j, pIndex);
				}
				else{
					swap(array, j, pIndex-1);
					swap(array, pIndex-1, pIndex);
				}
				pIndex = pIndex-1;
			}
		}
		
		return array;
	}
	
	private static void swap(int[] array, int i, int j){
		int temp = array[i];
		array[i] = array[j];
		array[j] = temp;
	}
	
	public static void main(String[] args){
		int[] start = new int[]{1,7,3,8,9,10,2,4,4, 5};
		
		int[] res = SixDotOne.buildPartitions(start, 9);
		
		for(int j : res){
			System.out.println(j);
		}
	}

}
